(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3635f779"],{"1f4f":function(e,t,r){"use strict";r("a9e3");var a=r("5530"),s=(r("8b37"),r("80d2")),i=r("7560"),n=r("58df");t["a"]=Object(n["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(a["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["f"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"40ba":function(e,t,r){"use strict";var a=r("bb80"),s=r.n(a);s.a},"8b37":function(e,t,r){},bb80:function(e,t,r){},c66d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile",attrs:{"data-app":""}},[r("div",{staticClass:"container"},[r("h1",{staticClass:"profile__header"},[e._v("Профиль и личные данные")]),[r("v-simple-table",[[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[e._v(" Фамилия ")]),r("th",{staticClass:"text-right"},[r("v-text-field",{attrs:{"error-messages":e.secondNameErrors,required:""},on:{input:function(t){return e.$v.secondName.$touch()},blur:function(t){return e.$v.secondName.$touch()}},model:{value:e.secondName,callback:function(t){e.secondName=t},expression:"secondName"}})],1)]),r("tr",[r("th",{staticClass:"text-left"},[e._v(" Имя ")]),r("th",{staticClass:"text-right"},[r("v-text-field",{attrs:{"error-messages":e.firstNameErrors,required:""},on:{input:function(t){return e.$v.firstName.$touch()},blur:function(t){return e.$v.firstName.$touch()}},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1)]),r("tr",[r("th",{staticClass:"text-left"},[e._v(" Отчество ")]),r("th",{staticClass:"text-right"},[r("v-text-field",{attrs:{"error-messages":e.thirdNameErrors,required:""},on:{input:function(t){return e.$v.thirdName.$touch()},blur:function(t){return e.$v.thirdName.$touch()}},model:{value:e.thirdName,callback:function(t){e.thirdName=t},expression:"thirdName"}})],1)]),r("tr",[r("th",{staticClass:"text-left"},[e._v(" Аватар ")]),r("th",{staticClass:"text-right"},[r("span",{staticClass:"block-avatar"},[r("v-list-item-avatar",{staticStyle:{"margin-right":"10px"}},[r("v-img",{attrs:{src:e.avatar}})],1),r("v-text-field",{attrs:{required:""},model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}})],1)])]),r("tr",[r("th",{staticClass:"text-left"},[e._v(" Категория ")]),r("th",{staticClass:"text-right select-block"},[r("v-select",{attrs:{items:e.items},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1)]),r("tr",[r("th",{staticClass:"text-left"},[e._v(" Ранг ")]),r("th",{staticClass:"text-right"},[e._v(" "+e._s(e.infoUser.rank)+" ")])])])]],2)],r("div",{staticClass:"profile__block-btn"},[r("v-btn",{staticClass:"profile__btn",attrs:{color:"#ed4d34",to:"/rank"}},[e._v(" Подать заявку на повышение ранга ")]),r("v-btn",{staticClass:"profile__btn",attrs:{color:"#ed4d34"},on:{click:function(t){return t.preventDefault(),e.saveProfile(t)}}},[e._v(" Cохранить изменения ")])],1),r("div",{staticClass:"message-block message-block--none"},[e._v("Ваши данные успешно изменены!")])],2)])},s=[],i=(r("b0c0"),r("96cf"),r("1da1")),n=r("1dce"),c=r("b5ae"),o={mixins:[n["validationMixin"]],validations:{name:{required:c["required"],maxLength:Object(c["maxLength"])(10)},email:{required:c["required"],email:c["email"]},select:{required:c["required"]},firstName:{required:c["required"]},secondName:{required:c["required"]},thirdName:{required:c["required"]},checkbox:{checked:function(e){return e}}},name:"Profile",data:function(){return{fio:"",info:"",avatar:"",name:"",email:"",select:null,category:null,rank:"",firstName:"",secondName:"",thirdName:"",items:["N - если вы не имеете категории","D4","D3","D2","D1","C3","C2","C1","B","A"],checkbox:!1,infoUser:[]}},computed:{checkboxErrors:function(){var e=[];return this.$v.checkbox.$dirty?(!this.$v.checkbox.checked&&e.push("You must agree to continue!"),e):e},selectErrors:function(){var e=[];return this.$v.select.$dirty?(!this.$v.select.required&&e.push("Item is required"),e):e},nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be at most 10 characters long"),!this.$v.name.required&&e.push("Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e},firstNameErrors:function(){var e=[];return this.$v.firstName.$dirty?(!this.$v.firstName.required&&e.push("поле Ф.И.О. должно быть заполнены"),e):e},secondNameErrors:function(){var e=[];return this.$v.secondName.$dirty?(!this.$v.secondName.required&&e.push("поле Ф.И.О. должно быть заполнены"),e):e},thirdNameErrors:function(){var e=[];return this.$v.thirdName.$dirty?(!this.$v.thirdName.required&&e.push("поле Ф.И.О. должно быть заполнены"),e):e}},methods:{submit:function(){this.$v.$touch()},clear:function(){this.$v.$reset(),this.name="",this.email="",this.select=null,this.checkbox=!1},saveProfile:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("changeProfile",{firstName:e.firstName,secondName:e.secondName,thirdName:e.thirdName,category:e.category,avatar:e.avatar});case 3:return t.sent,t.next=6,e.$store.dispatch("fetchSecondName");case 6:return t.t0=t.sent,t.t1=t.t0+" ",t.next=10,e.$store.dispatch("fetchFirstName");case 10:return t.t2=t.sent,e.fio=t.t1+t.t2,t.next=14,e.$store.dispatch("fetchCategory");case 14:return t.t3=t.sent,e.info="Категория "+t.t3,t.next=18,e.$store.dispatch("fetchAvatar");case 18:e.avatar=t.sent,r=document.getElementsByClassName("message-block")[0],r.classList.remove("message-block--none"),setTimeout((function(){r.classList.add("message-block--none")}),3500),t.next=26;break;case 24:t.prev=24,t.t4=t["catch"](0);case 26:case"end":return t.stop()}}),t,null,[[0,24]])})))()}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchInfoUser");case 2:return e.infoUser=t.sent,t.next=5,e.$store.dispatch("fetchSecondName");case 5:return t.t0=t.sent,t.t1=t.t0+" ",t.next=9,e.$store.dispatch("fetchFirstName");case 9:return t.t2=t.sent,e.fio=t.t1+t.t2,t.next=13,e.$store.dispatch("fetchCategory");case 13:return t.t3=t.sent,e.info="Категория "+t.t3,t.next=17,e.$store.dispatch("fetchAvatar");case 17:return e.avatar=t.sent,t.next=20,e.$store.dispatch("fetchCategory");case 20:return e.category=t.sent,t.next=23,e.$store.dispatch("fetchFirstName");case 23:return e.firstName=t.sent,t.next=26,e.$store.dispatch("fetchSecondName");case 26:return e.secondName=t.sent,t.next=29,e.$store.dispatch("fetchThirdName");case 29:e.thirdName=t.sent;case 30:case"end":return t.stop()}}),t)})))()}},u=o,h=(r("40ba"),r("2877")),l=r("6544"),d=r.n(l),m=r("8336"),f=r("adda"),v=r("8270"),p=r("b974"),b=r("1f4f"),$=r("8654"),x=Object(h["a"])(u,a,s,!1,null,"722d50e4",null);t["default"]=x.exports;d()(x,{VBtn:m["a"],VImg:f["a"],VListItemAvatar:v["a"],VSelect:p["a"],VSimpleTable:b["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-3635f779.6b4d41cd.js.map